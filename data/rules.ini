; This is the rule file for Rubber.
;
; Each rule is introduced by an identifier in square brackets and contains
; entries of the form "key = value". See the texinfo documentation for a
; precise description of the entries.

;-- XFig figures

[fig2dev-vec]
target = (.*)\.(eps|pdf)
source = \1.fig
cost = 0
rule = fig2dev

[fig2dev-bmp]
target = (.*)\.png
source = \1.fig
cost = 10
rule = fig2dev

[fig2dev-tex]
target = (.*)\.(eps|pstex|pdf|pdftex)_t
source = \1.fig
cost = 1
rule = fig2dev

;-- Metapost figures

[mpost]
target = (.*)\.[0-9]+
source = \1.mp
cost = 0
rule = mpost

;-- Rules using "convert" (from ImageMagick)

[convert-vec-vec]
target = (.*)\.(ps|eps|pdf|epdf)
source = \1.{ps,eps,pdf,epdf,wmf}
cost = 2
rule = convert

[convert-bmp-vec]
target = (.*)\.(ps|eps|pdf|epdf)
source = \1.{bmp,gif,jbg,jbig,pct,pcx,pgm,pict,png,pnm,ppm,tga,tif,tiff,xbm,xcf,xpm}
cost = 8
rule = convert

[convert-lossy-vec]
target = (.*)\.(ps|eps|pdf|epdf)
source = \1.{jpeg,jpg}
cost = 11
rule = convert

[convert-bmp-bmp]
target = (.*).(gif|png|tif|bmp|tga|pcx)
source = \1.{bmp,gif,jbg,jbig,pct,pcx,pgm,pict,png,pnm,ppm,tga,tif,tiff,xbm,xcf,xpm}
cost = 2
rule = convert

; more rules ?

;-- Bounding box extraction from gzipped EPS (built-in rule)

[eps_gz]
target = (.*\.e?ps).bb
source = \1.gz
cost = 0
rule = eps_gz

;-- Miscellaneous graphics converters

[epstopdf]
target = (.*)\.pdf
source = \1.eps
cost = 5
rule = epstopdf

[jpeg2ps]
target = (.*)\.eps
source = \1.{jpeg,jpg}
cost = 10
rule = jpeg2ps

;-- Source conversion with lhs2TeX

[lhs2TeX]
target = (.*)\.tex
source = \1.lhs
cost = 0
rule = lhs2TeX
